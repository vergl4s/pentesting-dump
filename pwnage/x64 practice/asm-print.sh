#!/bin/bash
if [ $# -eq 0 ]
  then
    echo "No arguments supplied"
    exit 1
fi

# removes extension from file (e.g. filename.asm becomes filename)
fn="$(cut -d'.' -f1 <<<$1)"

nasm -felf64 $fn.asm -o /tmp/$fn.o && ld /tmp/$fn.o -o /tmp/$fn

for i in $(objdump -d /tmp/$fn -M intel |grep "^ " |cut -f2); do echo -n '\x'$i; done;echo